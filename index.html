
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>IoT Dashboard</title>
  <link href="http://getbootstrap.com/2.3.2/assets/css/bootstrap.css" rel="stylesheet">
  <style type="text/css">
      body {
        background-color: black;
        color: grey;
      }


    </style>
</head>
    <body>
<div class="container-fluid">
      <div class="row-fluid">
        <div class="span9">
          <div class="jumbotron">
            <h1>IoT Dashboard</h1>
            <p>Welcome to the hub of all your connected devices. When your devices send us data we'll display them below!</p>
          </div>
          <div class="row-fluid">
            <div class="span4">
              <h2>Raspberry Pi WiFi</h2>
              <p id = "rpi_wifi">Devices</p>
              <p><a class="btn" href="#">View details &raquo;</a></p>
            </div><!--/span-->
            <div class="span4">
              <h2>Android SMS</h2>
              <p id="android_sms"></p>
              <p><a class="btn" href="#">View details &raquo;</a></p>
            </div><!--/span-->
            <div class="span4">
              <h2>Wemo Motion</h2>
              <p id = "wemo_motion"></p>
              <p><a class="btn" href="#">View details &raquo;</a></p>
            </div><!--/span-->
          </div><!--/row-->
          <div class="row-fluid">
            <div class="span4">
              <h2>Raspberry Pi Bluetooth</h2>
              <p id = "rpi_bluetooth">Devices</p>
              <p><a class="btn" href="#">View details &raquo;</a></p>
            </div><!--/span-->
            <div class="span4">
              <h2>Wemo Switch</h2>
              <p id = "wemo_switch"></p>
              <p><a class="btn" href="#">View details &raquo;</a></p>
            </div><!--/span-->
            <div class="span4">
              <h2>Android Location</h2>
              <p id = "android_location"></p>
            </div><!--/span-->
          </div><!--/row-->
        </div><!--/span-->
      </div><!--/row-->


  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
  <script src="http://code.jquery.com/jquery.js"></script>
  <script src="/bootstrap/js/bootstrap.min.js"></script>
  <script src="http://getbootstrap.com/2.3.2/assets/js/jquery.js"></script>
  <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-transition.js"></script>
  <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-alert.js"></script>
  <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-modal.js"></script>
  <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-dropdown.js"></script>
  <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-scrollspy.js"></script>
  <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-tab.js"></script>
  <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-tooltip.js"></script>
  <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-popover.js"></script>
  <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-button.js"></script>
  <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-collapse.js"></script>
  <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-carousel.js"></script>
  <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-typeahead.js"></script>
  <script> 
  var socket = io();
socket.on('_post', function(data){
  var json = '{"result":true,"count":1}',
  obj = JSON.parse(json);  
  $( "#result" ).append(obj.result + ' ' + obj.count);
});

socket.on('_post_rpi_wifi',function(data){
  console.log('_post_rpi_wifi');
  $("#rpi_wifi").append(data.type);
  $("#rpi_wifi").append(data.devices);
});

socket.on('_post_rpi_bluetooth',function(data){
  console.log('_post_rpi_bluetooth');
  $("#rpi_bluetooth").append(data.type);
  $("#rpi_bluetooth").append(data.devices);
});

socket.on('_post_wemo_switch',function(data){
  console.log('_post_wemo_switch');
  $("#wemo_switch").append(data.type);
  $("#wemo_switch").append(data.mode);
});

socket.on('_post_wemo_motion',function(data){
  console.log('_post_wemo_motion');
  $("#wemo_motion").append(data.type);
  $("#wemo_motion").append(data.status);
});

socket.on('_post_weather',function(data){
  console.log('_post_weather');
  $("#weather").append(data);
});

socket.on('_post_android_battery',function(data){
  console.log('_post_weather');
  $("#android").append(data);
});

socket.on('_post_android_location',function(data){
  console.log('_post_weather');
  $("#android").append(data);
});

socket.on('_post_android_sms',function(data){
  console.log('_post_weather');
  $("#android").append(data);
});

socket.on('_post_android_network',function(data){
  console.log('_post_weather');
  $("#android").append(data);
});

socket.on('_load',function(data){
  console.log(data.rpi_bt[0]);
  console.log(data);
  $("#rpi_bluetooth").html("");
  $("#rpi_wifi").html("");
  $("#wemo_motion").html("");
  $("#wemo_switch").html("");
  $("#android_sms").html("");
  $("#android_location").html("");

  function printRPIBluetooth(element, index, array) {
    $("#rpi_bluetooth").append(element.device);
  }
  function printRPIWifi(element, index, array) {
    $("#rpi_wifi").append(element.device);
  }
  function printWemoMotion(element, index, array) {
    $("#wemo_motion").append(element.device);
  }
  function printWemoSwitch(element, index, array) {
    $("#wemo_switch").append(element.device);
  }
  function printAndroidSMS(element, index, array) {
    $("#android_sms").append(element.device);
  }
  function printAndroidLocation(element, index, array) {
    $("#android_location").append(element.device);
  }

  data.rpi_bt.forEach(printRPIBluetooth);
  data.rpi_wifi.forEach(printRPIWifi);
  data.wemo_switch.forEach(printWemoSwitch);
  data.wemo_motion.forEach(printWemoMotion);
  data.android_sms.forEach(printAndroidSMS);
  data.android_location.forEach(printAndroidLocation);

  
});




  </script>
</body>
</html>